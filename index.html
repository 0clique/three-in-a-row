<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three-in-a-Row</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container" style="position: relative;">
        <canvas id="game-canvas"></canvas>
        
        <!-- Fallback HTML Play Button -->
        <button id="start-button-overlay" style="position: absolute; top: 380px; left: 50%; transform: translateX(-50%); width: 180px; height: 50px; background: #2ecc71; border: none; border-radius: 8px; color: white; font: bold 24px Arial; cursor: pointer; z-index: 50;">PLAY</button>
        
        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <h2>âš™ï¸ Settings</h2>
                <div class="setting-row">
                    <label for="music-volume">Music</label>
                    <input type="range" id="music-volume" min="0" max="100" value="50">
                    <span id="music-value">50%</span>
                </div>
                <div class="setting-row">
                    <label for="sfx-volume">Sound Effects</label>
                    <input type="range" id="sfx-volume" min="0" max="100" value="50">
                    <span id="sfx-value">50%</span>
                </div>
                <div class="setting-row">
                    <button id="reset-progress">Reset Progress</button>
                </div>
                <button id="close-settings" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Achievements Modal -->
        <div id="achievements-modal" class="modal hidden">
            <div class="modal-content achievements-content">
                <h2>ğŸ† Achievements</h2>
                <div id="achievements-progress" class="progress-text"></div>
                <div id="achievements-list" class="achievements-list"></div>
                <button id="close-achievements" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Shop Modal -->
        <div id="shop-modal" class="modal hidden">
            <div class="modal-content shop-content">
                <h2>ğŸ’ Shop</h2>
                <div class="shop-currency">
                    <span>ğŸ’ Gems: <span id="shop-gems">0</span></span>
                    <span>ğŸª™ Coins: <span id="shop-coins">0</span></span>
                </div>
                <div id="shop-list" class="shop-list"></div>
                <button id="close-shop" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Challenges Modal -->
        <div id="challenges-modal" class="modal hidden">
            <div class="modal-content challenges-content">
                <h2>ğŸ¯ Daily Challenges</h2>
                <div class="challenges-section">
                    <h3>ğŸ“… Daily</h3>
                    <div id="daily-challenges" class="challenges-list"></div>
                </div>
                <div class="challenges-section">
                    <h3>ğŸ“† Weekly</h3>
                    <div id="weekly-challenges" class="challenges-list"></div>
                </div>
                <button id="close-challenges" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Events Modal -->
        <div id="events-modal" class="modal hidden">
            <div class="modal-content events-content">
                <h2>ğŸ‰ Events</h2>
                <div id="event-display" class="event-display"></div>
                <div id="events-list" class="events-list"></div>
                <button id="close-events" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Quests Modal -->
        <div id="quests-modal" class="modal hidden">
            <div class="modal-content quests-content">
                <h2>ğŸ“œ Quests</h2>
                <div id="current-quest" class="current-quest"></div>
                <div id="quest-progress" class="quest-progress"></div>
                <button id="close-quests" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Daily Spin Modal -->
        <div id="daily-spin-modal" class="modal hidden">
            <div class="modal-content spin-content">
                <h2>ğŸ¡ Daily Spin</h2>
                <div id="spin-wheel" class="spin-wheel">
                    <div class="spin-pointer">â–¼</div>
                </div>
                <div id="spin-result" class="spin-result"></div>
                <button id="spin-btn" class="btn-primary">SPIN!</button>
                <button id="close-spin" class="btn-secondary">Later</button>
            </div>
        </div>

        <!-- Collection Modal -->
        <div id="collection-modal" class="modal hidden">
            <div class="modal-content collection-content">
                <h2>ğŸ“š Collection</h2>
                <div class="collection-tabs">
                    <button class="tab-btn active" data-tab="achievements">ğŸ†</button>
                    <button class="tab-btn" data-tab="gems">ğŸ’</button>
                    <button class="tab-btn" data-tab="powerups">ğŸš€</button>
                </div>
                <div id="collection-content" class="collection-content"></div>
                <button id="close-collection" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Statistics Modal -->
        <div id="stats-modal" class="modal hidden">
            <div class="modal-content stats-content">
                <h2>ğŸ“Š Statistics</h2>
                <div id="stats-list" class="stats-list"></div>
                <button id="close-stats" class="btn-primary">Done</button>
            </div>
        </div>

        <!-- Tutorial Modal -->
        <div id="tutorial-modal" class="modal hidden">
            <div class="modal-content tutorial-content">
                <h2 id="tutorial-title">Welcome!</h2>
                <p id="tutorial-message"></p>
                <button id="tutorial-next" class="btn-primary">Next</button>
                <button id="tutorial-skip" class="btn-secondary">Skip</button>
            </div>
        </div>

        <!-- Badge Modal -->
        <div id="badge-modal" class="modal hidden">
            <div class="modal-content badge-content">
                <h2 id="badge-title">Your Badge</h2>
                <div id="badge-display" class="badge-display"></div>
                <div id="badge-progress" class="badge-progress"></div>
                <button id="close-badge" class="btn-primary">Awesome!</button>
            </div>
        </div>

        <!-- Chest Modal -->
        <div id="chest-modal" class="modal hidden">
            <div class="modal-content chest-content">
                <h2>ğŸ Lucky Chest</h2>
                <div id="chest-display" class="chest-display"></div>
                <button id="claim-chest" class="btn-primary">Claim Free Chest</button>
                <button id="watch-ad-chest" class="btn-secondary">ğŸ“º Watch Ad (Bonus!)</button>
                <button id="close-chest" class="btn-secondary">Later</button>
            </div>
        </div>

        <!-- Puzzle Mode Modal -->
        <div id="puzzle-modal" class="modal hidden">
            <div class="modal-content puzzle-content">
                <h2>ğŸ§© Puzzle Mode</h2>
                <div id="puzzle-progress" class="puzzle-progress"></div>
                <div id="puzzle-levels" class="puzzle-levels"></div>
                <button id="close-puzzle" class="btn-primary">Back</button>
            </div>
        </div>

        <!-- Game Mode Selector Modal -->
        <div id="gamemode-modal" class="modal hidden">
            <div class="modal-content gamemode-content">
                <h2>ğŸ® Select Game Mode</h2>
                <div id="gamemode-list" class="gamemode-list"></div>
                <button id="close-gamemode" class="btn-primary">Back</button>
            </div>
        </div>

        <!-- Undo Button (in-game) -->
        <button id="undo-btn" class="game-btn hidden" title="Undo (5 uses)">â†©ï¸</button>
        
        <!-- Hint Button (in-game) -->
        <button id="hint-btn" class="game-btn hidden" title="Hint">ğŸ’¡</button>

        <!-- Cloud Save Modal -->
        <div id="cloud-modal" class="modal hidden">
            <div class="modal-content cloud-content">
                <h2>â˜ï¸ Cloud Save</h2>
                <p id="cloud-status"></p>
                <button id="save-cloud" class="btn-primary">Save to Cloud</button>
                <button id="load-cloud" class="btn-secondary">Load from Cloud</button>
                <button id="close-cloud" class="btn-secondary">Back</button>
            </div>
        </div>

        <!-- Profile Modal -->
        <div id="profile-modal" class="modal hidden">
            <div class="modal-content profile-content">
                <h2>ğŸ‘¤ Profile</h2>
                <div id="profile-avatar" class="profile-avatar"></div>
                <input type="text" id="profile-name" placeholder="Username" maxlength="15">
                <input type="text" id="profile-bio" placeholder="Bio" maxlength="50">
                <div class="profile-stats"></div>
                <button id="save-profile" class="btn-primary">Save</button>
                <button id="close-profile" class="btn-secondary">Back</button>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>
</html>
